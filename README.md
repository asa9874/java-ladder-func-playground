# 사다리

## 게임 개요
네이버 사다리 게임을 참고하자
1. 참가 인원 수만큼 열이 생성
2. 참가자 이름과 당첨 항목을 입력
3. 사다리에 행이 추가
4. 사다리 게임을 실행하면 전체 결과가 출력

## 클래스 구성 생각
### View
- `InputView`: 사용자 입력 처리
- `OutputView`: 사다리 및 결과 출력 처리
### domain
- `Ladder`
  - 사다리 전체를 나타냄
  - `row`(행 수), `column`(열 수 = 참가자 수)
  - 내부 구조: `List<Line>`
  - ㅁ -> ㅁ-ㅁ-ㅁ   
    ㅁ -> ㅁ-ㅁ-ㅁ   
    ㅁ -> ㅁ-ㅁ-ㅁ   
    ㅁ -> ㅁ-ㅁ-ㅁ   

- `Line`
  - 사다리의 한 행을 표현
  - 내부에 `List<Link>`를 가짐
  - 한 행의 가로 연결 정보 구성

- `Link`
  - 가로 라인의 연결 여부를 boolean으로 표현
  - 한 위치에서 오른쪽으로 이동 가능한지 판단

- `Width`
  - 2열 이상만 가능
- `Height`
  - 1행 이상만 가능

- 참석하는 사람
- 당첨 항목
- 사다리 결과
- 사다리 게임
    - 사다리 타는 로직 
    - 위에서 아래로 이동, 가장 먼저 만난 사다리 타고 이동

## 사다리 연결 로직
- 한 행은 연달아 연결되지 못한다. 

1. Random 객체 사용해서 랜덤하게 연결
   -> 한 열이 모두 False가 나와 빌 수도 있다
   -> 전 열이  모두 True가 나와 옆 열이 빌 수도 있다
2. 위 아래는 연달아서 연결되지 못 한다는 로직 추가
   -> 요구사항이랑 그림이 달라짐
3. 사다리 생성 시, Random 객체를 사용하여 랜덤하게 가로 연결을 시도하되, 한 행에서 연속된 연결이 생기지 않도록 제한함.
   이렇게 생성된 사다리에 대해 열(column) 단위로 보정 로직을 수행함.
    - 연결 보정: 한 열의 모든 칸이 비어 있을 경우,
      무작위로 하나를 골라 연결하고, 해당 칸의 좌우에 연결이 있다면 이를 먼저 끊은 후 연결함.
        -> 문제점 : 이전 열이나 다음 열에 하나뿐인 연결이 삭제될 수도 있음. 다음 열은 상관없으나 이전 열이 삭제될 경우 수정 불가! 
        -> 해결방안 : 이전 열에서 안전한 칸 찾고, 그 중에서 랜덤하게 가져와서 연결하고 그 다음칸 연결되어 있으면 그 부분은 삭제 
   - 비연결 보정: 한 열의 모든 칸이 연결되어 있을 경우,
     무작위로 하나를 골라 연결을 끊음.

## 1단계 - 사다리 출력
### 기능 요구사항
- 사다리는 `4x4` 크기로 고정
- 가로 라인의 연결 여부는 랜덤
- 사다리의 라인이 겹치지 않아야 함
  - 예: `|-----|-----|` 형태로 연속된 가로 라인은 허용되지 않음

### 추가 요구사항
- 모든 엔티티는 최대한 작게 유지
- 하나의 클래스는 **3개 이상의 인스턴스 변수**를 가지지 않음
- 모든 **원시값과 문자열은 포장**
- **일급 컬렉션**을 사용
- **Java Enum**을 적극적으로 활용

## 2단계 - 사다리 생성
- 사다리는 크기를 입력 받아 생성할 수 잇다.

## 3단계 - 사다리 타기
- 사다리의 시작 지점과 도착 지점을 출력한다.

## 4단계 - 게임 실행
- 사다리 게임에 참여하는 사람에 이름을 최대 5글자까지 부여할 수 있다. 사다리를 출력할 때 사람 이름도 같이 출력한다
- 사람 이름은 쉼표(,)를 기준으로 구분한다.
- 개인별 이름을 입력하면 개인별 결과를 출력하고, "all"을 입력하면 전체 참여자의 실행 결과를 출력한다.

## 5단계 - 리팩터링
- 함수형 문법 최대한 적용